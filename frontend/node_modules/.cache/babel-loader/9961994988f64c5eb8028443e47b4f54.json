{"ast":null,"code":"var _jsxFileName = \"/opt/lampp/htdocs/projektovanjeSoftvera2020/frontend/src/components/Header.js\";\nimport React, { Component } from 'react';\nimport { Link, withRouter } from \"react-router-dom\";\nimport { bindActionCreators } from \"redux\";\nimport * as Actions from \"../actions/Actions\";\nimport connect from \"react-redux/es/connect/connect\";\nimport IconButton from '@material-ui/core/IconButton';\nimport MoreVert from '@material-ui/icons/MoreVert';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport PersonIcon from '@material-ui/icons/Person';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport LockIcon from '@material-ui/icons/Lock';\nimport MenuState from \"../constants/MenuState\";\nimport { ListItemIcon, ListItemText, Menu, MenuItem } from \"@material-ui/core\";\nimport strings from \"../localization\";\nimport { lock, logout } from \"../base/OAuth\";\n\nclass Header extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      anchorEl: null\n    };\n  }\n  /** HANDLERS **/\n\n\n  handleMenuClick(event) {\n    this.setState({\n      anchorEl: event.currentTarget\n    });\n  }\n\n  handleMenuClose() {\n    this.setState({\n      anchorEl: null\n    });\n  }\n\n  logout() {\n    logout();\n    this.props.logout();\n    this.props.history.push('/');\n  }\n\n  lock() {\n    lock();\n    this.props.history.push('/');\n  }\n\n  getHeaderClass() {\n    if (this.props.menu.state === MenuState.SHORT) {\n      return 'short';\n    } else {\n      return '';\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"header\",\n      className: this.getHeaderClass(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }\n    }, this.props.menu.state === MenuState.FULL && /*#__PURE__*/React.createElement(IconButton, {\n      size: \"small\",\n      onClick: () => this.props.changeMenuState(MenuState.SHORT),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(MoreVert, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 29\n      }\n    })), this.props.menu.state === MenuState.SHORT && /*#__PURE__*/React.createElement(IconButton, {\n      size: \"small\",\n      onClick: () => this.props.changeMenuState(MenuState.FULL),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(MenuIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 29\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      size: \"small\",\n      \"aria-owns\": this.state.anchorEl ? 'person-menu' : undefined,\n      \"aria-haspopup\": \"true\",\n      onClick: event => this.handleMenuClick(event),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(PersonIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(Menu, {\n      id: \"person-menu\",\n      anchorEl: this.state.anchorEl,\n      open: Boolean(this.state.anchorEl),\n      onClose: () => this.handleMenuClose(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(MenuItem, {\n      onClick: () => this.lock(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(ListItemIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(LockIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(ListItemText, {\n      inset: true,\n      primary: strings.header.lock,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(MenuItem, {\n      onClick: () => this.logout(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(ListItemIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(ExitToAppIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(ListItemText, {\n      inset: true,\n      primary: strings.header.logout,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 29\n      }\n    })))));\n  }\n\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators({\n    changeMenuState: Actions.changeMenuState,\n    logout: Actions.logout\n  }, dispatch);\n}\n\nfunction mapStateToProps({\n  menuReducers,\n  authReducers\n}) {\n  return {\n    menu: menuReducers,\n    user: authReducers.user\n  };\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Header));","map":{"version":3,"sources":["/opt/lampp/htdocs/projektovanjeSoftvera2020/frontend/src/components/Header.js"],"names":["React","Component","Link","withRouter","bindActionCreators","Actions","connect","IconButton","MoreVert","MenuIcon","PersonIcon","ExitToAppIcon","LockIcon","MenuState","ListItemIcon","ListItemText","Menu","MenuItem","strings","lock","logout","Header","constructor","props","state","anchorEl","handleMenuClick","event","setState","currentTarget","handleMenuClose","history","push","getHeaderClass","menu","SHORT","render","FULL","changeMenuState","undefined","Boolean","header","mapDispatchToProps","dispatch","mapStateToProps","menuReducers","authReducers","user"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport {Link, withRouter} from \"react-router-dom\";\nimport {bindActionCreators} from \"redux\";\nimport * as Actions from \"../actions/Actions\";\n\nimport connect from \"react-redux/es/connect/connect\";\nimport IconButton from '@material-ui/core/IconButton';\n\nimport MoreVert from '@material-ui/icons/MoreVert';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport PersonIcon from '@material-ui/icons/Person';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport LockIcon from '@material-ui/icons/Lock';\n\nimport MenuState from \"../constants/MenuState\";\nimport {ListItemIcon, ListItemText, Menu, MenuItem} from \"@material-ui/core\";\nimport strings from \"../localization\";\nimport {lock, logout} from \"../base/OAuth\";\n\n\nclass Header extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            anchorEl: null\n        }\n    }\n\n    /** HANDLERS **/\n\n    handleMenuClick(event) {\n        this.setState({ anchorEl: event.currentTarget });\n    }\n\n    handleMenuClose() {\n        this.setState({ anchorEl: null });\n    }\n\n    logout() {\n        logout();\n        this.props.logout();\n        this.props.history.push('/');\n    }\n\n    lock() {\n        lock();\n        this.props.history.push('/');\n    }\n\n    getHeaderClass() {\n\n        if(this.props.menu.state === MenuState.SHORT) {\n            return 'short';\n        }\n        else {\n            return '';\n        }\n    }\n\n    render() {\n\n        return (\n            <div id='header' className={ this.getHeaderClass() }>\n\n                <div className='left'>\n\n                    {\n                        this.props.menu.state === MenuState.FULL &&\n                        <IconButton size='small' onClick={ () => this.props.changeMenuState(MenuState.SHORT) }>\n                            <MoreVert/>\n                        </IconButton>\n                    }\n\n                    {\n                        this.props.menu.state === MenuState.SHORT &&\n                        <IconButton size='small' onClick={ () => this.props.changeMenuState(MenuState.FULL) }>\n                            <MenuIcon/>\n                        </IconButton>\n                    }\n\n                </div>\n                <div className='right'>\n                    <IconButton\n                        size='small'\n                        aria-owns={ this.state.anchorEl ? 'person-menu' : undefined }\n                        aria-haspopup=\"true\"\n                        onClick={ (event) => this.handleMenuClick(event) }\n                    >\n                        <PersonIcon/>\n                    </IconButton>\n                    <Menu\n                        id='person-menu'\n                        anchorEl={ this.state.anchorEl }\n                        open={ Boolean(this.state.anchorEl) }\n                        onClose={ () => this.handleMenuClose() }\n                    >\n\n                        <MenuItem onClick={ () => this.lock() }>\n                            <ListItemIcon>\n                                <LockIcon/>\n                            </ListItemIcon>\n                            <ListItemText inset primary={ strings.header.lock }/>\n                        </MenuItem>\n                        <MenuItem onClick={ () => this.logout() }>\n                            <ListItemIcon>\n                                <ExitToAppIcon/>\n                            </ListItemIcon>\n                            <ListItemText inset primary={ strings.header.logout }/>\n                        </MenuItem>\n                    </Menu>\n                </div>\n            </div>\n\n        );\n    }\n}\n\nfunction mapDispatchToProps(dispatch)\n{\n    return bindActionCreators({\n        changeMenuState: Actions.changeMenuState,\n        logout: Actions.logout,\n    }, dispatch);\n}\n\nfunction mapStateToProps({ menuReducers, authReducers })\n{\n    return { menu: menuReducers, user: authReducers.user };\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Header));"]},"metadata":{},"sourceType":"module"}